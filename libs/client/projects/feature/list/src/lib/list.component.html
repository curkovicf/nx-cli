<section class="header-wrapper">
  <header>
    <p>installed apps & libs</p>

    <div class="refresh-icon-wrapper" matRipple>
      <img [ngStyle]="{ visibility: 'visible' }" src="assets/refresh_icon.svg" alt="Refresh icon" (click)="listVmStore.fetchProjects()" />
    </div>
  </header>

  <div class="search-wrapper">
    <dev-workspace-search-bar (oninput)="listVmStore.filterProjects($event)"></dev-workspace-search-bar>
  </div>
</section>

<section class="projects-list">
  <nx-cli-project-list-item
    *ngFor="let project of (listVmStore.vm$ | async).projectsInView"
    [project]="project"
    (click)="listVmStore.selectProject(project)"
  >
    <dev-workspace-list-item-badge [projectType]="project.type"></dev-workspace-list-item-badge>
  </nx-cli-project-list-item>
</section>

<section class="actions">
  <nx-cli-button
    [isDisabled]="(workspacesFacade.workspaces$ | async)?.length === 0"
    [buttonText]="'Create Angular application'"
    buttonType="primary"
    (onbtnclick)="listVmStore.createApplication()"
  >
  </nx-cli-button>

  <nx-cli-button
    [isDisabled]="(workspacesFacade.workspaces$ | async)?.length === 0"
    [buttonText]="'Create Angular library'"
    buttonType="primary"
    (onbtnclick)="listVmStore.createLibrary()"
  >
  </nx-cli-button>
</section>
